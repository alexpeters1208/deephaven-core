<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="The `rdeephaven` package provides an R API for communicating with the Deephaven server and working with Deephaven tables.
             In this release, we support connecting to the Deephaven server with three authentication methods including anonymous,
             username/password, and general key/value authentication. Once the connection has been established, we provide the tools to
             pull Deephaven tables from the server directly into R Data Frames, Tibbles, Arrow Tables, or Arrow RecordBatchReaders.
             You can also import local data with any of those types directly to the server, retrieve a reference to the new table,
             and bind it to a server-side variable so you can access it from any Deephaven client. Finally, you can run Python or Groovy
             scripts on the Deephaven server, so long as your server is equipped with that capability.">
<title>R Client for Deephaven Core • rdeephaven</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="R Client for Deephaven Core">
<meta property="og:description" content="The `rdeephaven` package provides an R API for communicating with the Deephaven server and working with Deephaven tables.
             In this release, we support connecting to the Deephaven server with three authentication methods including anonymous,
             username/password, and general key/value authentication. Once the connection has been established, we provide the tools to
             pull Deephaven tables from the server directly into R Data Frames, Tibbles, Arrow Tables, or Arrow RecordBatchReaders.
             You can also import local data with any of those types directly to the server, retrieve a reference to the new table,
             and bind it to a server-side variable so you can access it from any Deephaven client. Finally, you can run Python or Groovy
             scripts on the Deephaven server, so long as your server is equipped with that capability.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">rdeephaven</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.31.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/rdeephaven.html">Overview</a>
    <a class="dropdown-item" href="articles/agg_by.html">Aggregations with agg_by</a>
    <a class="dropdown-item" href="articles/update_by.html">Moving Operations with update_by</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="the-deephaven-core-r-client">The Deephaven Core R Client<a class="anchor" aria-label="anchor" href="#the-deephaven-core-r-client"></a>
</h1></div>
<p>The Deephaven Core R client is an R package that enables R users to interface with a Deephaven server and perform various server-side operations from the comfort of RStudio or any other R interface.</p>
<div class="section level2">
<h2 id="what-can-the-r-client-do">What can the R client do?<a class="anchor" aria-label="anchor" href="#what-can-the-r-client-do"></a>
</h2>
<p>The R Client provides the following functionalities:</p>
<ol style="list-style-type: decimal">
<li>Connect to a Deephaven server<ul>
<li>with anonymous authentication (no username or password)</li>
<li>with basic authentication (username and password)</li>
<li>with pre-shared key authentication (requires only a key)</li>
<li>with custom authentication (general key-value credentials)</li>
</ul>
</li>
<li>Run scripts on the server<ul>
<li>If the server is equipped with a console, run a script in that console</li>
<li>Currently, Python and Groovy are supported</li>
</ul>
</li>
<li>Utilize Deephaven’s vast table API from R<ul>
<li>Create static and ticking tables on the server</li>
<li>Construct and execute complex queries</li>
<li>Retrieve references to tables on the server</li>
<li>Pull table data into an <a href="https://arrow.apache.org/docs/r/reference/RecordBatchReader.html" class="external-link">Arrow RecordBatchReader</a>, an <a href="https://arrow.apache.org/docs/r/reference/Table.html" class="external-link">Arrow Table</a>, a <a href="https://tibble.tidyverse.org" class="external-link">dplyr Tibble</a>, or an <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/data.frame.html" class="external-link">R Data Frame</a>
</li>
<li>Create new tables on the server from an <a href="https://arrow.apache.org/docs/r/reference/RecordBatchReader.html" class="external-link">Arrow RecordBatchReader</a>, an <a href="https://arrow.apache.org/docs/r/reference/Table.html" class="external-link">Arrow Table</a>, a <a href="https://tibble.tidyverse.org" class="external-link">dplyr Tibble</a>, or an <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/data.frame.html" class="external-link">R Data Frame</a>
</li>
<li>Call Deephaven table methods with familiar R functions</li>
</ul>
</li>
</ol>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Currently, the R client is only supported on Ubuntu 20.04 or 22.04 and must be built from source.</p>
<ol start="0" style="list-style-type: decimal">
<li>
<p>We need a working installation of R on the machine where the R client will be built. The R client requires R 4.1.2 or newer; you can install R from the standard packages made available by Ubuntu 22.04. If you want a newer R version or if you are running in Ubuntu 20.04, you should install R from CRAN:</p>
<pre><code># Download the key and install it
$ wget -qO- https://cloud.r-project.org/bin/linux/ubuntu/marutter_pubkey.asc | \
    sudo gpg --dearmor -o /usr/share/keyrings/r-project.gpg

# Add the R source list to apt's sources list
$ echo "deb [signed-by=/usr/share/keyrings/r-project.gpg] https://cloud.r-project.org/bin/linux/ubuntu jammy-cran40/" | \
    sudo tee -a /etc/apt/sources.list.d/r-project.list

# update the apt package list
$ apt update

# install R
$ sudo apt install r-base r-recommended</code></pre>
</li>
<li><p>Build the cpp-client (and any dependent libraries) according to the instructions in <a href="https://github.com/deephaven/deephaven-core/blob/main/cpp-client/README.md" class="external-link uri">https://github.com/deephaven/deephaven-core/blob/main/cpp-client/README.md</a>. Follow the instructions at least to the point for “Build and install Deephaven C++ client”. At that point you would have both the Deephaven C++ client and any C++ libraries it depends on, all installed in a particular directory of your choosing. In what follows we assume that directory is <code>/path/to/dhcpp</code>. Independently of where that directory is in your chosen installation, a file called <code>env.sh</code> should exist on it, and a <code>local</code> subdirectory as well.</p></li>
<li>
<p>Choose a directory where the Deephaven R client source code will live. Here, the source code will be downloaded into a new directory called <code>rdeephaven</code>. Navigate into that directory and clone this subdirectory of <code>deephaven-core</code> using git’s sparse-checkout:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a><span class="fu">mkdir</span> rdeephaven</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a><span class="bu">cd</span> rdeephaven</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a><span class="fu">git</span> init</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a><span class="fu">git</span> remote add -f origin https://github.com/deephaven/deephaven-core.git</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true"></a><span class="fu">git</span> config core.sparseCheckout true</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true"></a><span class="bu">echo</span> <span class="st">"R/rdeephaven"</span> <span class="op">&gt;&gt;</span> .git/info/sparse-checkout</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true"></a><span class="fu">git</span> pull origin main</span></code></pre></div>
</li>
<li>
<p>Set environment variables from the C++ client installation required for building the package. Use:</p>
<pre><code><span><span class="va">source</span> <span class="op">/</span><span class="va">path</span><span class="op">/</span><span class="va">to</span><span class="op">/</span><span class="va">dhcpp</span><span class="op">/</span><span class="va">env.sh</span></span></code></pre>
<p>where <code>/path/to/dhcpp</code> is the directory you created in step (1) above. You can ensure the environment variables that are necessary for the steps that follow are set by checking their values by running the commands:</p>
<pre><code><span><span class="va">echo</span> <span class="op">$</span><span class="va">DHCPP</span></span>
<span><span class="va">echo</span> <span class="op">$</span><span class="va">LD_LIBRARY_PATH</span></span></code></pre>
<p>Both environment variables need to be defined for installing the package in the instructions below. Once the package is installed, you will only need <code>LD_LIBRARY_PATH</code> to be set in the R session where you intend to use the <code>rdeephaven</code> library. If you are starting R from the command line, you can set the environment variable as explained above. If you are using RStudio, see the note in the following point.</p>
<p>Refer to the instructions on the C++ client installation for more details on the <code>dhcpp</code> directory.</p>
<p>For faster compilation of the R client and its dependencies (particularly the Arrow R client), use the following commands:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a> <span class="bu">export</span> <span class="va">NCPUS=</span><span class="kw">`</span><span class="ex">getconf</span> _NPROCESSORS_ONLN<span class="kw">`</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a> <span class="bu">export</span> <span class="va">MAKE=</span><span class="st">"make -j</span><span class="va">$NCPUS</span><span class="st">"</span></span></code></pre></div>
</li>
<li>
<p>Start an R console inside the rdeephaven directory. In that console, install the dephaven client dependencies (since we are building from source, dependencies will not be automatically pulled in):</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Rcpp'</span>, <span class="st">'arrow'</span>, <span class="st">'R6'</span>, <span class="st">'dplyr'</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Then, exit the R console with <code><a href="https://rdrr.io/r/base/quit.html" class="external-link">quit()</a></code>. From the rdeephaven directory, build and install the R client:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true"></a>cd .. <span class="op">&amp;&amp;</span><span class="st"> </span>R CMD build rdeephaven <span class="op">&amp;&amp;</span><span class="st"> </span>R CMD INSTALL <span class="op">--</span>no<span class="op">-</span>multiarch <span class="op">--</span>with<span class="op">-</span>keep.source rdeephaven_<span class="op">*</span>.tar.gz <span class="op">&amp;&amp;</span><span class="st"> </span>rm rdeephaven_<span class="op">*</span>.tar.gz</span></code></pre></div>
<p>This is needed over the typical <code><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages()</a></code> to ensure that the vignettes get built and installed.</p>
<p><strong>NOTE</strong></p>
<p>If using RStudio for this step, the environment variables that were set in step 3 may not persist into the RStudio R environment if RStudio is not a child process of the shell where the environment variables were set (ie, if RStudio is not started from that same shell and after the environment variables are set in that shell). R supports using a <code>.Renviron</code> file for settings like this. You can generate the right content to add to your .Renviron file (or for creating a new one) using the script under <code>etc/generate-dotRenviron-lines.sh</code></p>
<p>You can create a new <code>.Renviron</code> file under the <code>deephave-core</code> directory with the lines producing by running the <code>etc/generate-dotRenviron-lines.sh</code> in the same shell where you set the environment variables; the script will give you the right content for the <code>.Renviron</code> file. Then, create a new R project from the existing <code>deephaven-core</code> directory using RStudio, and the corresponding R session will inherit all the necessary environment variables for successful compilation.</p>
<p>If RStudio Server is being used, all of the above must be followed for successful compilation. <em>In addition</em>, use the output from the script <code>etc/generate-rserverdotconf-lines.sh</code> and add them to the <code>rserver.conf</code> file for the RStudio Server installation (the location of that file may depend on your particular RStudio server installation, but a common location is <code>/etc/rstudio/rserver.conf</code>).</p>
</li>
<li>
<p>Now, run</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">rdeephaven</span><span class="op">)</span></span></code></pre></div>
<p>in the R session, and start using the client!</p>
<p>For an introduction to the package, run <code><a href="articles/rdeephaven.html">vignette("rdeephaven")</a></code>.</p>
</li>
</ol>
<p><strong>NOTE</strong></p>
<p>If an error like this occurs in step 4:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true"></a><span class="ex">client.cpp</span>:7:10: fatal error: deephaven/client/client.h: No such file or directory</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true"></a> <span class="ex">7</span> <span class="kw">|</span> #<span class="ex">include</span> <span class="st">"deephaven/client/client.h"</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true"></a>   <span class="kw">|</span>          ^<span class="ex">~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true"></a><span class="ex">compilation</span> terminated.</span></code></pre></div>
<p>this means that the C++ compiler does not know where to find the relevant header files for the Deephaven C++ client. This can happen for a handul of reasons: 1. Step 1 was skipped, and the Deephaven C++ client was not installed. In this case, please ensure that the client is installed before attempting to build the R client. 2. The Deephaven C++ client is installed, but the <code>DHCPP</code> environment variable is not set. To test this, run <code>bash    echo $DHCPP</code> If this returns an empty string, set <code>DHCPP</code> according to the instructions in step 1 with <code>bash    export DHCPP=/path/to/dhcpp</code> 3. The Deephaven C++ client is installed and the <code>DHCPP</code> environment variable is set, but the current project is not configured to allow the compiler to access the Deephaven <code>dhcpp</code> and <code>src</code> directories. This is more difficult to give advice on, as it is an IDE-dependent problem. Consult your IDE’s documentation on C/C++ compiler include paths for more information.</p>
</div>
<div class="section level2">
<h2 id="running-the-unit-tests">Running the unit tests<a class="anchor" aria-label="anchor" href="#running-the-unit-tests"></a>
</h2>
<p>The Deephaven R client utilizes R’s <code>testthat</code> package to perform unit tests. In order to run these unit tests, install <code>testthat</code> and the other dependent packages:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'testthat'</span>, <span class="st">'lubridate'</span>, <span class="st">'zoo'</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Then, from an R session with <code>rdeephaven</code> installed, run the unit tests:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://testthat.r-lib.org" class="external-link">testthat</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://testthat.r-lib.org/reference/test_package.html" class="external-link">test_package</a></span><span class="op">(</span><span class="st">"rdeephaven"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="debugging">Debugging<a class="anchor" aria-label="anchor" href="#debugging"></a>
</h2>
<p>Because the Deephaven R client is written in C++ and wrapped with <code>Rcpp</code>, standard R-level debugging is not sufficient for many kinds of problems associated with C++ code. For this reason, debugging the R client must be done with a C++ debugger. We recommend using <a href="https://valgrind.org" class="external-link">Valgrind</a> to check for memory bugs, and using <a href="https://www.sourceware.org/gdb/" class="external-link">gdb</a> for thorough backtraces and general debugging.</p>
<div class="section level3">
<h3 id="running-r-with-valgrind">Running R with Valgrind<a class="anchor" aria-label="anchor" href="#running-r-with-valgrind"></a>
</h3>
<p>The following was taken from <a href="https://kevinushey.github.io/blog/2015/04/05/debugging-with-valgrind/" class="external-link">this blog post</a>, which has proven very useful for getting started with Valgrind. 1. Install Valgrind with <code>sudo apt-get install valgrind</code> or <code>sudo yum install valgrind</code> 2. Run R under Valgrind with <code>R -d valgrind</code></p>
<p>OS-dependent problems may come up in either step, and the simplest solution is to use a Linux machine or VM if one is available. Attempting these steps in a Linux Docker image may also prove difficult, and will certainly fail if the host architecture is not AMD/X86.</p>
</div>
<div class="section level3">
<h3 id="running-r-with-gdb">Running R with gdb<a class="anchor" aria-label="anchor" href="#running-r-with-gdb"></a>
</h3>
<p><a href="https://www.maths.ed.ac.uk/~swood34/RCdebug/RCdebug.html" class="external-link">This article</a> is a good resource for running R with gdb, and also touches on Valgrind use. There are several ways to run R with gdb, and here we only outline the text-based approach given near the bottom of the page. 1. Install gdb with <code>sudo apt-get install gdb</code> or <code>sudo yum install gdb</code> 2. Start gdb with R attached with <code>R -d gdb</code>. This will start a gdb session denoted by <code>(gdb)</code> in the console. 3. In the gdb session, start an R console with <code>(gdb) run</code></p>
<p>Both Valgrind and gdb debugging is done through a console, and is not interactive from an IDE. There may be a way to make RStudio play well with Valgrind or gdb, but that is beyond the scope of these instructions.</p>
</div>
<div class="section level3">
<h3 id="enabling-debug-level-logging-for-grpc-and-the-c-layer-of-the-deephaven-r-client">Enabling DEBUG level logging for gRPC and the C++ layer of the Deephaven R client<a class="anchor" aria-label="anchor" href="#enabling-debug-level-logging-for-grpc-and-the-c-layer-of-the-deephaven-r-client"></a>
</h3>
<p>The C++ component of the Deephaven R client uses the C++ implementation of gRPC to exchange messages with a Deephaven server. gRPC has an internal logging component that can be configured to log to stderr detail information about connection state and messages exchanged between client and server; the Deephaven R client also uses the same logging component to show client state information. This can be useful for debugging purposes. To enable detailed logging, set the environment variable <code>GRPC_VERVOSITY=DEBUG</code></p>
</div>
</div>
<div class="section level2">
<h2 id="code-styling">Code Styling<a class="anchor" aria-label="anchor" href="#code-styling"></a>
</h2>
<p>The Deephaven R client uses the <a href="https://style.tidyverse.org" class="external-link">Tidyverse styleguide</a> for code formatting, and implements this style with the <code>styler</code> package. For contributions, ensure that code is properly styled according to Tidyverse standards by running the following code in your R console, where <code>/path/to/rdeephaven</code> is the path to the root directory of this package.</p>
<pre><code><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="st">"/path/to/rdeephaven"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"styler"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-lib/styler" class="external-link">styler</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://styler.r-lib.org/reference/style_pkg.html" class="external-link">style_pkg</a></span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="high-level-design-overview">High-level design overview<a class="anchor" aria-label="anchor" href="#high-level-design-overview"></a>
</h2>
<p>The R client uses the <a href="https://github.com/deephaven/deephaven-core/tree/main/cpp-client" class="external-link">Deephaven C++ client</a> as the backend for connecting to and communicating with the server. Any Deephaven-specific feature in the R client is, at some level, an API for an equivalent feature in the C++ client. To make Deephaven’s C++ client API available in R, an R6 class provides an R interface to <a href="https://github.com/RcppCore/Rcpp" class="external-link">Rcpp</a> wrapped parts of the C++ API. Deephaven’s C++ API can create Arrow tables, and R has an <a href="https://github.com/apache/arrow/tree/main/r" class="external-link">Arrow library</a>. Because Arrow is an in-memory data format, Arrow data can be transferred between R and C++ simply by passing a pointer between the languages and using the <a href="https://arrow.apache.org/docs/format/CStreamInterface.html" class="external-link">Arrow C Stream Interface</a>. No data copies are required.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>Apache License (== 2.0)</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing rdeephaven</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Alex Peters <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Alex Peters.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
